# 用例文档
|姓名|学号|分工|
|---|---|---|
|聂尔聪|211250243|用例一、二、八|
|王渤元|211250225|用例一、四、八|
|罗晗 | 211250242|用例一、五、六|
|曲廷锌|211250183|用例一、三、七|

|版本|修改时间|内容|
|---|---|---|
|v1.0|2023.4.8|初步完成（车票管理未完成）|
|v1.1|2023.4.9|增加铁路管理员中车票信息管理用例|
|v2.0|2023.7.7|增加3个订单相关用例（选中车次后创建订单、显示订单、订单的支付与取消）|
|v2.1|2023.7.7|细化订单的支付与取消样例|


## 目录

[**1. 引言**](#1-引言)

[**2. 用例图**](#2-用例图)

[**3. 用例列表**](#3-用例列表)

[**4. 详细用例描述**](#4-详细用例描述)
- [4.1 个人基本信息管理](#41-个人基本信息管理)
- [4.2 浏览车票详细信息](#42-浏览车票详细信息)
- [4.3 购买车票](#43-购买车票)
- [4.4 铁路信息管理](#44-铁路信息管理)
- [4.5 车票信息管理](#45-车票信息管理)
- [4.6 选中车次后创建订单](#46-选中车次后创建订单)
- [4.7 在用户界面显示已有订单](#47-在用户界面显示已有订单)
- [4.8 订单支付与取消](#48-订单支付与取消)
  

# **1. 引言**
## 1.1 目的
本文档描述了l23o6 在线购票网站的用户需求，方便用户和编程人员之间的交流沟通，方便后续具体设计
## 1.2 参考文献
    ·《软件开发的技术基础》 丁二玉、刘钦编著；
    · IEEE标准
    
# **2. 用例图**
![770500f71a072e7fb41a6ed4f3396c7.jpg](https://img1.imgtp.com/2023/07/07/gRPAcBIq.jpg)
<br><br><br><br>

# **3. 用例列表**
| 参与者     | 用例                                                                   |
| ---------- | ---------------------------------------------------------------------- |
| 客户       | 1. 个人基本信息管理<br>2. 浏览车票详细信息（查询余票） <br>3. 购买车票 <br> 4. 选中对应车次后创建订单<br> 5. 在用户界面查看已有订单（订单状态：待支付、已支付、已取消）<br> 6. 订单的支付与取消|
| 铁路管理员 | 1. 铁路信息管理 <br>2. 车票信息管理                                    |
# **4. 详细用例描述**
## 4.1 个人基本信息管理
|                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 用例编号       | 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 名称           | 个人基本信息管理                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 创建者         | 曲廷锌                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 创建日期       | 2023.4.8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 最后一次更新者 | 曲廷锌                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 更新日期       | 2023.4.8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 参与者         | 客户，目的：方便快捷地维护个人基本信息                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 触发条件       | 客户选择进入个人信息界面                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 前置条件       | 无                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 后置条件       | 客户修改信息，系统记录客户信息变更                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 优先级         | 中                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 正常流程       | 1. 用户点击主界面上的“注册”按钮。<br>2. 系统显示注册页面，用户填写必填的注册信息（身份证号，姓名，联系方式，用户名，密码）。<br> 3. 用户确认注册信息无误，点击“确认”按钮。<br> 4. 系统跳转到登陆界面。<br>  5. 用户在登录页面输入用户名和密码，点击“登录”按钮。<br> 6.系统验证用户的登录信息是否正确。 <br>7. 用户在个人基本信息页面中可以浏览、修改和保存个人基本信息，包括姓名、联系方式、身份证等信息。<br>8. 用户可以通过点击“查询信用积分”按钮来查看自己的信用积分。<br>9.系统显示用户的信用积分。 |
| 扩展流程       | 3.a 信息错误：<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统检测用户信息错误，提示用户修改错误信息。<br> 6.a 信息错误：<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统检测用户信息错误，提示用户输入正确的登录信息。                                                                                                     |
| 特殊需求       | 用户联系方式为11位0-9数字的电话号码。                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
## 4.2 浏览车票详细信息
|                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| -------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 用例编号       | 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 名称           | 浏览车票详细信息                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 创建者         | 聂尔聪                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 创建日期       | 2023.4.8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 最后一次更新者 | 聂尔聪                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 更新日期       | 2023.4.8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 参与者         | 客户，目的：便捷地查看车票具体信息                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 触发条件       | 客户点击进入车票查询界面                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 前置条件       | 无                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 后置条件       | 无                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 优先级         | 中                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 正常流程       | 1. 用户打开车票查询系统，并进入查询页面。<br> 2. 用户在查询页面中输入出发地、目的地和出行日期，并点击搜索按钮。<br>3. 系统根据用户输入的信息进行搜索，并显示符合条件的车票列表。<br>4. 用户可以通过列表方式查看所有的车票的基本信息：车次、出发地、目的地、剩余票数。<br>5. 用户可以选择其中一张车票，以查看车票的详细信息。<br>6. 系统展示选中车票的详细信息：出发时间、到达时间、价格、座位等级 （包括基本信息）。<br>7. 用户可以浏览车票的详细信息，以便确认是否符合需求。<br>8. 用户可以选择返回车票列表继续浏览其他车票（或者进行下一步操作——购买车票）。 |
| 扩展流程       | 2.a 出发时间不合法：<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统提示出发时间不合法，并拒绝该输入，提示用户重新输入。                                                                                                                                                                                                                                                                                                                         |
| 特殊需求       | 无                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
## 4.3 购买车票
|                |                                                                                                                                                                                                                                                                                                                                                                 |
| -------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 用例编号       | 3                                                                                                                                                                                                                                                                                                                                                               |
| 名称           | 购买车票                                                                                                                                                                                                                                                                                                                                                        |
| 创建者         | 曲廷锌                                                                                                                                                                                                                                                                                                                                                          |
| 创建日期       | 2023.4.8                                                                                                                                                                                                                                                                                                                                                        |
| 最后一次更新者 | 曲廷锌                                                                                                                                                                                                                                                                                                                                                          |
| 更新日期       | 2023.4.8                                                                                                                                                                                                                                                                                                                                                        |
| 参与者         | 客户，目的：方便快捷地购买车票                                                                                                                                                                                                                                                                                                                                  |
| 触发条件       | 客户进入购票界面                                                                                                                                                                                                                                                                                                                                                |
| 前置条件       | 客户选择的车票余票充足                                                                                                                                                                                                                                                                                                                                          |
| 后置条件       | 系统记录车票信息变更                                                                                                                                                                                                                                                                                                                                            |
| 优先级         | 中                                                                                                                                                                                                                                                                                                                                                              |
| 正常流程       | 1. 用户点击进入购票界面。<br> 2. 系统将该车票的余票-1，并开始计时 。<br> 3. 系统显示当前可用车票信息（出发地，目的地，时间）。<br>4. 用户选择座位等级。<br> 5. 用户选择座位（ABCDEF）。<br> 6. 用户选择是否使用积分抵扣车票金额。<br> 7. 系统确认用户的选择，并显示价格。<br> 8. 用户确认价格后点击“确认购买”按钮。<br> 9. 系统完成购票流程，生成购票记录。<br> |
| 扩展流程       | 8.a：购票超时：<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统提示超时强制返回。<br> 9.a 恶意订票：<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统检测到用户恶意订票，则扣除相应的信用积分。  |
| 特殊需求       | 无                                                                                                                                                                                                                                                                                                                                                              |
## 4.4 铁路信息管理
|                |                                                                                                                                                                                                                                                                                                                |
| -------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 用例编号       | 4                                                                                                                                                                                                                                                                                                              |
| 名称           | 铁路信息管理                                                                                                                                                                                                                                                                                                   |
| 创建者         | 王渤元                                                                                                                                                                                                                                                                                                         |
| 创建日期       | 2023.4.8                                                                                                                                                                                                                                                                                                       |
| 最后一次更新者 | 王渤元                                                                                                                                                                                                                                                                                                         |
| 更新日期       | 2023.4.8                                                                                                                                                                                                                                                                                                       |
| 参与者         | 铁路管理员，目的：管理铁路路线的信息，进行线路编排                                                                                                                                                                                                                                                             |
| 触发条件       | 铁路管理员收到了关于铁路信息的新任务或指令，需要对铁路信息进行更改、新增或查询                                                                                                                                                                                                                                 |
| 前置条件       | 铁路管理员已经登录且获得了管理铁路信息管理系统的权限                                                                                                                                                                                                                                                           |
| 后置条件       | 系统记录变更                                                                                                                                                                                                                                                                                                   |
| 优先级         | 中                                                                                                                                                                                                                                                                                                             |
| 正常流程       | 1. 铁路管理员进入铁路信息管理系统。 <br> 2. 管理员可以查询现有路线信息（每条线路的途经站点及到达、出发时间）。 <br>3. 管理员可以新增路线信息，并保存<br>4. 管理员可以选择并修改路线信息，确认后保存。 <br>5. 系统处理请求并将结果返回给管理员并显示在屏幕上。<br>6. 管理员选择继续操作或退出铁路信息管理系统。 |
| 扩展流程       | 3.a 新增路线信息不合法：<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统提示不合法并拒绝保存。                                                                                                                                                                                                               |
|                | 4.a 修改路线信息不合法：<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统提示修改不合法并拒绝保存。                                                                                                                                                                                                           |
| 特殊需求       | 无                                                                                                                                                                                                                                                                                                             |
## 4.5 车票信息管理
|                |                                                                                                                                                                                                                                                       |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 用例编号       | 5                                                                                                                                                                                                                                                     |
| 名称           | 车票信息管理                                                                                                                                                                                                                                          |
| 创建者         | 罗晗                                                                                                                                                                                                                                                  |
| 创建日期       | 2023.4.9                                                                                                                                                                                                                                              |
| 最后一次更新者 | 罗晗                                                                                                                                                                                                                                                  |
| 更新日期       | 2023.4.9                                                                                                                                                                                                                                              |
| 参与者         | 铁路管理员，目的：设置车票的信息                                                                                                                                                                                                                      |
| 触发条件       | 管理员选择进入车票信息管理功能                                                                                                                                                                                                                        |
| 前置条件       | 铁路管理员已经登录且获得了管理铁路信息管理系统的权限                                                                                                                                                                                                  |
| 后置条件       | 系统记录车票信息变更                                                                                                                                                                                                                                  |
| 优先级         | 中                                                                                                                                                                                                                                                    |
| 正常流程       | 1. 系统展示当前车票信息列表。<br>2. 管理员选择需要设置信息的车票，并进入车票信息编辑页面。<br>3. 管理员设置车票信息，包括出车次、发地、目的地、z时间、价格、票的数目等。<br> 4. 管理员提交设置的信息。<br>5. 系统处理请求并展示更新后的车票信息列表。 |
| 扩展流程       | 4.a 信息不合法：<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统提示管理员设置的信息格式不正确，并要求重新设置并提交。                                    |
| 特殊需求       | 无                                                                                                                                                                                                                                                    |

## 4.6 选中车次后创建订单
|                |                                                                                                                                                                                                                                                       |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 用例编号       | 6                                                                                                                                                                                                                                                     |
| 名称           | 创建订单                                                                                                                                                                                                                                          |
| 创建者         | 罗晗                                                                                                                                                                                                                                                  |
| 创建日期       | 2023.7.7                                                                                                                                                                                                                                             |
| 最后一次更新者 | 罗晗                                                                                                                                                                                                                                                  |
| 更新日期       | 2023.7.7                                                                                                                                                                                                                                              |
| 参与者         |        客户，目的：选中车次后创建订单                                                                                                                                                                                                               |
| 触发条件       | 客户选中车次                                                                                                                                                                                                                        |
| 前置条件       | 客户根据车票查询系统已经查询到对应车次                                                                                                                                                                                                  |
| 后置条件       | 系统记录座位和订单变更                                                                                                                                                                                                                            |
| 优先级         | 中                                                                                                                                                                                                                                                    |
| 正常流程       | 1. 系统展示当前车次信息。<br>2. 用户选中对应车次<br>3.系统处理请求并展示订单信息。 |
| 扩展流程       | 2.a 座位以售罄：<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统提示用户选中的座位类型已经售罄。                                    |
| 特殊需求       | 无                                                                                                                                                                                                                                                    |

               
## 4.7 在用户界面显示已有订单
|                |                                                                                                                                                                                                                                                       |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 用例编号       | 7                                                                                                                                                                                                                                                     |
| 名称           | 用户订单显示                                                                                                                                                                                                                                          |
| 创建者         | 曲廷锌                                                                                                                                                                                                                                                  |
| 创建日期       | 2023.7.7                                                                                                                                                                                                                                              |
| 最后一次更新者 | 曲廷锌                                                                                                                                                                                                                                                  |
| 更新日期       | 2023.7.7                                                                                                                                                                                                                                              |
| 参与者         | 用户，目的：查看已有订单                                                                                                                                                                                                                      |
| 触发条件       | 用户进入用户中心并点击订单信息                                                                                                                                                                                                                        |
| 前置条件       | 用户已经登陆                                                                                                                                                                                                  |
| 后置条件       | 无                                                                                                                                                                                                                                  |
| 优先级         | 中                                                                                                                                                                                                                                                    |
| 正常流程       | 1. 用户登录。<br>2. 用户点击用户中心按钮。<br>3. 系统显示个人信息界面。<br> 用户点击订单信息<br>5. 系统处理请求并展示订单信息列表。 |
| 扩展流程       | 1.a 登录信息不合法：<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统提示用户的登录信息不正确，并要求重新提交。                                    |
| 特殊需求       | 无                                                                                                                                                                                                                                                    |
               
## 4.8 订单的支付与取消
|                |                                                                                                                                                                                                                                                       |
| -------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 用例编号       | 8                                                                                                                                                                                                                                                     |
| 名称           |订单的支付和取消                                                                                                                                                                                                                                          |
| 创建者         | 聂耳聪                                                                                                                                                                                                                                                  |
| 创建日期       | 2023.7.7                                                                                                                                                                                                                                              |
| 最后一次更新者 |王渤元                                                                                                                                                                                                                                                  |
| 更新日期       | 2023.7.7                                                                                                                                                                                                                                              |
| 参与者         | 用户，目的：订单的支付和取消                                                                                                                                                                                                                     |
| 触发条件       | 用户点击订单提交按钮                                                                                                                                                                                                                        |
| 前置条件       | 订单已经成功创建                                                                                                                                                                                                 |
| 后置条件       | 系统记录订单信息变更以及积分和余额的变更                                                                                                                                                                                                                                  |
| 优先级         | 中                                                                                                                                                                                                                                                    |
| 正常流程       | 1. 系统显示订单详细信息<br>2. 用户选择支付策略（微信或者支付宝） <br>3. 用户选择是否使用积分<br> 4.用户点击“支付订单”或者“取消订单”按钮<br>5. 系统处理信息并展示支付详情|
| 扩展流程       | 4.a 余额不足：<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统提示支付失败。                                    |
| 特殊需求       | 无                                                                                                                                                                                                                                                    |
               
